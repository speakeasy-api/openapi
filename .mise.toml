[tools]
go = "1.24.3"
golangci-lint = "2.1.1"
gotestsum = "latest"

[tasks.setup-vscode-symlinks]
description = "Create VSCode symlinks for tools not automatically handled by mise-vscode"
run = [
  "mkdir -p .vscode/mise-tools",
  "ln -sf $(mise exec -- which golangci-lint-v2) $(dirname $(mise exec -- which golangci-lint-v2))/golangci-lint || true",
  "ln -sf $(mise exec -- which golangci-lint) .vscode/mise-tools/golangci-lint",
]

[hooks]
postinstall = [
  "ln -sf ./AGENTS.md ./CLAUDE.md",
  "mise run setup-vscode-symlinks",
  "go install go.uber.org/nilaway/cmd/nilaway@8ad05f0",
]
