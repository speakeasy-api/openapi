[tools]
go = "1.25.5"
gotestsum = "latest"

[tasks.setup-vscode-symlinks]
description = "Create VSCode symlinks for tools not automatically handled by mise-vscode"
run = [
  "mkdir -p .vscode/mise-tools",
  "ln -sf $(mise exec golangci-lint@2.7.2 -- which golangci-lint) .vscode/mise-tools/golangci-lint",
]

[hooks]
postinstall = [
  "ln -sf ./AGENTS.md ./CLAUDE.md",
  "git submodule update --init --recursive",
  "mise exec go@1.25.5 -- go install github.com/golangci/golangci-lint/v2/cmd/golangci-lint@v2.7.2",
  "mise run setup-vscode-symlinks",
  "go install go.uber.org/nilaway/cmd/nilaway@8ad05f0",
]
