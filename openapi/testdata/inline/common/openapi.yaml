openapi: 3.1.0

info:
  title: Common API Components
  description: API components (schemas, parameters, responses) shared across APIs.
  version: 0.1.0
servers:
  - url: /test

tags:
  - name: Common Components
    description: Common Reusable API Components

paths: {}

components:

  schemas:

    abstractBody:
      title: Abstract Body
      description: An abstract schema used to define other request and response body model schemas.
      type: object
      properties: {}

    apiProblem:
      title: API Problem
      description: 'API problem or error, as per [RFC 7807 application/problem+json](https://tools.ietf.org/html/rfc7807).'
      type: object
      properties:
        type:
          type: string
          format: uri-reference
          description: >
            A [URI reference (RFC3986)](https://tools.ietf.org/html/rfc3986) that identifies the
            problem type. If present, this is the URL of human-readable HTML documentation for the
            problem type.
            When this member is not present, its value is assumed to be `"about:blank"`.
          maxLength: 2048
        title:
          type: string
          description: >
            A short, human-readable summary of the problem type.
            The title is usually the same for all problems with the same `type`.
          maxLength: 120
          format: text
        status:
          type: integer
          format: int32
          description: >
            The [HTTP status code](https://datatracker.ietf.org/doc/html/rfc7231#section-6)
            for this occurrence of the problem.
          minimum: 100
          maximum: 599
        detail:
          type: string
          description: >
            A human-readable explanation specific to this occurrence of the problem.
          maxLength: 256
          format: text
        instance:
          type: string
          format: uri-reference
          description: >
            A URI reference that identifies the specific occurrence of the problem.
            This is the URI of an API resource that the problem is related to,
            with a unique error correlation ID URI fragment
          maxLength: 2048

    problemResponse:
      title: Problem Response
      description: 'API problem or error response, as per [RFC 9457 application/problem+json](https://tools.ietf.org/html/rfc9457).'
      type: object
      allOf:
        - $ref: '#/components/schemas/abstractBody'
        - $ref: '#/components/schemas/apiProblem'

  responses:

    '400':
      description: >-
        Bad Request.
        The request body, request headers, and/or query parameters are not well-formed.
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/problemResponse'
        application/json:
          schema:
            $ref: '#/components/schemas/problemResponse'
